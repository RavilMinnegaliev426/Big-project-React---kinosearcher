{"ast":null,"code":"import _toConsumableArray from\"C:/Users/ravka/Desktop/filmsearcher-Version7/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/ravka/Desktop/filmsearcher-Version7/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import\"./movie.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Movie=function Movie(_ref){var film=_ref.film,username=_ref.username;var _useState=useState(\"/Like.jpg\"),_useState2=_slicedToArray(_useState,2),modalActiveLike=_useState2[0],setModalActiveLike=_useState2[1];var like=\"/Like.jpg\";var like1=\"/Like1.jpg\";function addBookmark(bookmark){if(username===null)return alert(\"Для добавления фильма в закладки нужно авторизоваться!\");var bookmarks=JSON.parse(localStorage.getItem(\"bookmarks\"))||[];var avail=bookmarks.find(function(elem){return elem.film.id===film.id;});if(avail){setModalActiveLike(like1);return alert(\"Фильм уже в закладках!\");}if(modalActiveLike===like){localStorage.setItem(\"bookmarks\",JSON.stringify([].concat(_toConsumableArray(bookmarks),[bookmark])));setModalActiveLike(like1);alert(\"Фильм добавлен в закладки!\");}}return/*#__PURE__*/_jsxs(\"div\",{className:\"Grid\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"itemGrid itemGrid-0\",children:/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){return addBookmark({film:film});},className:\"imageClassLike \",src:modalActiveLike,alt:\"imageLike\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"itemGrid itemGrid-1\",children:/*#__PURE__*/_jsx(\"img\",{className:\"imageClass \",src:film.poster,alt:\"description\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"itemGrid itemGrid-2\",children:[\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435: \",film.title]}),/*#__PURE__*/_jsxs(\"div\",{className:\"itemGrid itemGrid-3\",children:[\"\\u0413\\u043E\\u0434 \\u0432\\u044B\\u043F\\u0443\\u0441\\u043A\\u0430: \",film.year]}),/*#__PURE__*/_jsxs(\"div\",{className:\"itemGrid itemGrid-4\",children:[\"\\u0416\\u0430\\u043D\\u0440: \",film.genre]}),/*#__PURE__*/_jsxs(\"div\",{className:\"itemGrid itemGrid-5\",children:[\"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435:\",/*#__PURE__*/_jsx(\"br\",{}),\" \",film.description]})]});};export default Movie;","map":{"version":3,"names":["React","useState","Movie","film","username","modalActiveLike","setModalActiveLike","like","like1","addBookmark","bookmark","alert","bookmarks","JSON","parse","localStorage","getItem","avail","find","elem","id","setItem","stringify","poster","title","year","genre","description"],"sources":["C:/Users/ravka/Desktop/filmsearcher-Version7/src/Movie/Movie.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./movie.css\";\n\nconst Movie = ({ film, username }) => {\n  const [modalActiveLike, setModalActiveLike] = useState(\"/Like.jpg\");\n  let like = \"/Like.jpg\";\n  let like1 = \"/Like1.jpg\";\n\n  function addBookmark(bookmark) {\n    if (username === null)\n      return alert(\"Для добавления фильма в закладки нужно авторизоваться!\");\n    const bookmarks = JSON.parse(localStorage.getItem(\"bookmarks\")) || [];\n    const avail = bookmarks.find((elem) => elem.film.id === film.id);\n    if (avail) {\n      setModalActiveLike(like1);\n      return alert(\"Фильм уже в закладках!\");\n    }\n    if (modalActiveLike === like) {\n      localStorage.setItem(\n        \"bookmarks\",\n        JSON.stringify([...bookmarks, bookmark])\n      );\n      setModalActiveLike(like1);\n      alert(\"Фильм добавлен в закладки!\");\n    }\n  }\n\n  return (\n    <div className=\"Grid\">\n      <div className=\"itemGrid itemGrid-0\">\n        <img\n          onClick={() => addBookmark({ film })}\n          className=\"imageClassLike \"\n          src={modalActiveLike}\n          alt=\"imageLike\"\n        ></img>\n      </div>\n      <div className=\"itemGrid itemGrid-1\">\n        <img className=\"imageClass \" src={film.poster} alt=\"description\"></img>\n      </div>\n      <div className=\"itemGrid itemGrid-2\">Название: {film.title}</div>\n      <div className=\"itemGrid itemGrid-3\">Год выпуска: {film.year}</div>\n      <div className=\"itemGrid itemGrid-4\">Жанр: {film.genre}</div>\n      <div className=\"itemGrid itemGrid-5\">\n        Описание:\n        <br /> {film.description}\n      </div>\n    </div>\n  );\n};\n\nexport default Movie;\n"],"mappings":"4QAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,aAAa,CAAC,wFAErB,GAAMC,MAAK,CAAG,QAARA,MAAK,MAA2B,IAArBC,KAAI,MAAJA,IAAI,CAAEC,QAAQ,MAARA,QAAQ,CAC7B,cAA8CH,QAAQ,CAAC,WAAW,CAAC,wCAA5DI,eAAe,eAAEC,kBAAkB,eAC1C,GAAIC,KAAI,CAAG,WAAW,CACtB,GAAIC,MAAK,CAAG,YAAY,CAExB,QAASC,YAAW,CAACC,QAAQ,CAAE,CAC7B,GAAIN,QAAQ,GAAK,IAAI,CACnB,MAAOO,MAAK,CAAC,wDAAwD,CAAC,CACxE,GAAMC,UAAS,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,EAAI,EAAE,CACrE,GAAMC,MAAK,CAAGL,SAAS,CAACM,IAAI,CAAC,SAACC,IAAI,QAAKA,KAAI,CAAChB,IAAI,CAACiB,EAAE,GAAKjB,IAAI,CAACiB,EAAE,GAAC,CAChE,GAAIH,KAAK,CAAE,CACTX,kBAAkB,CAACE,KAAK,CAAC,CACzB,MAAOG,MAAK,CAAC,wBAAwB,CAAC,CACxC,CACA,GAAIN,eAAe,GAAKE,IAAI,CAAE,CAC5BQ,YAAY,CAACM,OAAO,CAClB,WAAW,CACXR,IAAI,CAACS,SAAS,8BAAKV,SAAS,GAAEF,QAAQ,GAAE,CACzC,CACDJ,kBAAkB,CAACE,KAAK,CAAC,CACzBG,KAAK,CAAC,4BAA4B,CAAC,CACrC,CACF,CAEA,mBACE,aAAK,SAAS,CAAC,MAAM,wBACnB,YAAK,SAAS,CAAC,qBAAqB,uBAClC,YACE,OAAO,CAAE,yBAAMF,YAAW,CAAC,CAAEN,IAAI,CAAJA,IAAK,CAAC,CAAC,EAAC,CACrC,SAAS,CAAC,iBAAiB,CAC3B,GAAG,CAAEE,eAAgB,CACrB,GAAG,CAAC,WAAW,EACV,EACH,cACN,YAAK,SAAS,CAAC,qBAAqB,uBAClC,YAAK,SAAS,CAAC,aAAa,CAAC,GAAG,CAAEF,IAAI,CAACoB,MAAO,CAAC,GAAG,CAAC,aAAa,EAAO,EACnE,cACN,aAAK,SAAS,CAAC,qBAAqB,gEAAYpB,IAAI,CAACqB,KAAK,GAAO,cACjE,aAAK,SAAS,CAAC,qBAAqB,6EAAerB,IAAI,CAACsB,IAAI,GAAO,cACnE,aAAK,SAAS,CAAC,qBAAqB,wCAAQtB,IAAI,CAACuB,KAAK,GAAO,cAC7D,aAAK,SAAS,CAAC,qBAAqB,4EAElC,aAAM,KAAEvB,IAAI,CAACwB,WAAW,GACpB,GACF,CAEV,CAAC,CAED,cAAezB,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}