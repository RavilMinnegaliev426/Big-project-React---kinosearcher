{"ast":null,"code":"import _toConsumableArray from\"C:/Users/ravka/Desktop/project/Film-searcher/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/ravka/Desktop/project/Film-searcher/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import\"./bookmarks.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Bookmarks=function Bookmarks(_ref){var username=_ref.username;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),valueBookmarks=_useState2[0],setvalueBookmarks=_useState2[1];var bookmarks=JSON.parse(localStorage.getItem(\"bookmarks\"))||[];var result=bookmarks.map(function(bookmark){console.log(bookmark);// setvalueBookmarks(bookmark);\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"car-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"car-item-image\",children:/*#__PURE__*/_jsx(\"img\",{src:bookmark.film.poster,alt:\"description\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"car-item-title\",children:bookmark.film.title}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return removeBookmark(bookmark);},children:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0438\\u0437 \\u0437\\u0430\\u043A\\u043B\\u0430\\u0434\\u043E\\u043A\"})]},bookmark.film.id);});function removeBookmark(bookmark){var id=bookmark.film.id;bookmarks.forEach(function callback(bookmark,index){if(bookmark.film.id===id){bookmarks.splice(index,1);}});localStorage.setItem(\"bookmarks\",JSON.stringify(_toConsumableArray(bookmarks)));bookmarks=JSON.parse(localStorage.getItem(\"bookmarks\"))||[];result=bookmarks.map(function(bookmark){return/*#__PURE__*/_jsxs(\"div\",{className:\"car-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"car-item-image\",children:/*#__PURE__*/_jsx(\"img\",{src:bookmark.film.poster,alt:\"description\"},bookmark.film.id)}),/*#__PURE__*/_jsx(\"div\",{className:\"car-item-title\",children:bookmark.film.title}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return removeBookmark(bookmark);},children:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0438\\u0437 \\u0437\\u0430\\u043A\\u043B\\u0430\\u0434\\u043E\\u043A\"},bookmark.film.id)]});});setDisplayedBookmarks(result);alert(\"Фильм удален из закладок!\");}var _useState3=useState(result),_useState4=_slicedToArray(_useState3,2),displayedBookmarks=_useState4[0],setDisplayedBookmarks=_useState4[1];return/*#__PURE__*/_jsxs(\"section\",{className:\"car\",id:\"cars\",children:[/*#__PURE__*/_jsx(\"h2\",{children:username}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"car-items\",children:displayedBookmarks})})]});};export default Bookmarks;","map":{"version":3,"names":["React","useState","Bookmarks","username","valueBookmarks","setvalueBookmarks","bookmarks","JSON","parse","localStorage","getItem","result","map","bookmark","console","log","film","poster","title","removeBookmark","id","forEach","callback","index","splice","setItem","stringify","setDisplayedBookmarks","alert","displayedBookmarks"],"sources":["C:/Users/ravka/Desktop/project/Film-searcher/src/Bookmarks/Bookmarks.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./bookmarks.css\";\n\nconst Bookmarks = ({ username }) => {\n  const [valueBookmarks, setvalueBookmarks] = useState(\"\");\n  let bookmarks = JSON.parse(localStorage.getItem(\"bookmarks\")) || [];\n  let result = bookmarks.map(function (bookmark) {\n    console.log(bookmark);\n    // setvalueBookmarks(bookmark);\n    return (\n      <div className=\"car-item\" key={bookmark.film.id}>\n        <div className=\"car-item-image\">\n          <img src={bookmark.film.poster} alt=\"description\" />\n        </div>\n        <div className=\"car-item-title\">{bookmark.film.title}</div>\n        <button onClick={() => removeBookmark(bookmark)}>\n          Удалить из закладок\n        </button>\n      </div>\n    );\n  });\n\n  function removeBookmark(bookmark) {\n    let id = bookmark.film.id;\n    bookmarks.forEach(function callback(bookmark, index) {\n      if (bookmark.film.id === id) {\n        bookmarks.splice(index, 1);\n      }\n    });\n    localStorage.setItem(\"bookmarks\", JSON.stringify([...bookmarks]));\n    bookmarks = JSON.parse(localStorage.getItem(\"bookmarks\")) || [];\n    result = bookmarks.map(function (bookmark) {\n      return (\n        <div className=\"car-item\">\n          <div className=\"car-item-image\">\n            <img\n              key={bookmark.film.id}\n              src={bookmark.film.poster}\n              alt=\"description\"\n            />\n          </div>\n          <div className=\"car-item-title\">{bookmark.film.title}</div>\n          <button\n            key={bookmark.film.id}\n            onClick={() => removeBookmark(bookmark)}\n          >\n            Удалить из закладок\n          </button>\n        </div>\n      );\n    });\n    setDisplayedBookmarks(result);\n    alert(\"Фильм удален из закладок!\");\n  }\n\n  const [displayedBookmarks, setDisplayedBookmarks] = useState(result);\n\n  return (\n    <section className=\"car\" id=\"cars\">\n      <h2>{username}</h2>\n      <div className=\"container\">\n        <div className=\"car-items\">{displayedBookmarks}</div>\n      </div>\n    </section>\n  );\n};\n\nexport default Bookmarks;\n"],"mappings":"4QAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,iBAAiB,CAAC,wFAEzB,GAAMC,UAAS,CAAG,QAAZA,UAAS,MAAqB,IAAfC,SAAQ,MAARA,QAAQ,CAC3B,cAA4CF,QAAQ,CAAC,EAAE,CAAC,wCAAjDG,cAAc,eAAEC,iBAAiB,eACxC,GAAIC,UAAS,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,EAAI,EAAE,CACnE,GAAIC,OAAM,CAAGL,SAAS,CAACM,GAAG,CAAC,SAAUC,QAAQ,CAAE,CAC7CC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC,CACrB;AACA,mBACE,aAAK,SAAS,CAAC,UAAU,wBACvB,YAAK,SAAS,CAAC,gBAAgB,uBAC7B,YAAK,GAAG,CAAEA,QAAQ,CAACG,IAAI,CAACC,MAAO,CAAC,GAAG,CAAC,aAAa,EAAG,EAChD,cACN,YAAK,SAAS,CAAC,gBAAgB,UAAEJ,QAAQ,CAACG,IAAI,CAACE,KAAK,EAAO,cAC3D,eAAQ,OAAO,CAAE,yBAAMC,eAAc,CAACN,QAAQ,CAAC,EAAC,sHAEvC,GAPoBA,QAAQ,CAACG,IAAI,CAACI,EAAE,CAQzC,CAEV,CAAC,CAAC,CAEF,QAASD,eAAc,CAACN,QAAQ,CAAE,CAChC,GAAIO,GAAE,CAAGP,QAAQ,CAACG,IAAI,CAACI,EAAE,CACzBd,SAAS,CAACe,OAAO,CAAC,QAASC,SAAQ,CAACT,QAAQ,CAAEU,KAAK,CAAE,CACnD,GAAIV,QAAQ,CAACG,IAAI,CAACI,EAAE,GAAKA,EAAE,CAAE,CAC3Bd,SAAS,CAACkB,MAAM,CAACD,KAAK,CAAE,CAAC,CAAC,CAC5B,CACF,CAAC,CAAC,CACFd,YAAY,CAACgB,OAAO,CAAC,WAAW,CAAElB,IAAI,CAACmB,SAAS,oBAAKpB,SAAS,EAAE,CAAC,CACjEA,SAAS,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,EAAI,EAAE,CAC/DC,MAAM,CAAGL,SAAS,CAACM,GAAG,CAAC,SAAUC,QAAQ,CAAE,CACzC,mBACE,aAAK,SAAS,CAAC,UAAU,wBACvB,YAAK,SAAS,CAAC,gBAAgB,uBAC7B,YAEE,GAAG,CAAEA,QAAQ,CAACG,IAAI,CAACC,MAAO,CAC1B,GAAG,CAAC,aAAa,EAFZJ,QAAQ,CAACG,IAAI,CAACI,EAAE,CAGrB,EACE,cACN,YAAK,SAAS,CAAC,gBAAgB,UAAEP,QAAQ,CAACG,IAAI,CAACE,KAAK,EAAO,cAC3D,eAEE,OAAO,CAAE,yBAAMC,eAAc,CAACN,QAAQ,CAAC,EAAC,sHADnCA,QAAQ,CAACG,IAAI,CAACI,EAAE,CAId,GACL,CAEV,CAAC,CAAC,CACFO,qBAAqB,CAAChB,MAAM,CAAC,CAC7BiB,KAAK,CAAC,2BAA2B,CAAC,CACpC,CAEA,eAAoD3B,QAAQ,CAACU,MAAM,CAAC,yCAA7DkB,kBAAkB,eAAEF,qBAAqB,eAEhD,mBACE,iBAAS,SAAS,CAAC,KAAK,CAAC,EAAE,CAAC,MAAM,wBAChC,oBAAKxB,QAAQ,EAAM,cACnB,YAAK,SAAS,CAAC,WAAW,uBACxB,YAAK,SAAS,CAAC,WAAW,UAAE0B,kBAAkB,EAAO,EACjD,GACE,CAEd,CAAC,CAED,cAAe3B,UAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}